Если нам нужно дождаться завершения набора горутин, то мы можем использовать sync.WaitGroup. Это некий безопасный счетчик для горутин. При вызове Add счетчик увеличичвается на то число которое мы передали. При вызове Done счетчик уменьшается на 1. Wait приостановит программу и будет ждать пока счетик не будет равен 0.
var wg sync.WaitGroup

wg.Add(1)
go func() {
  defer wg.Done()
  time.Sleep(time.Second)
}()

wg.Add(1)
go func() {
  defer wg.Done()
  time.Sleep(time.Second)
}()

wg.Add(1)
go func() {
  defer wg.Done()
  time.Sleep(time.Second)
}()

wg.Wait()

Важно вызывать Add за пределами горутины, так как мы не знаем когда будет запускаться горутины. Может случится такое что при вызове Wait еще ни одна горутина не запущена.
